<!DOCTYPE html>
<html>
    <script>
        //Create function to return random value (rock, paper or scissor)
            //Use math.random to get a random number between 1 and 3
            //Assing a choice to each number
        function computerPlay() {
            let choice = Math.floor(Math.random() * (4 - 1)) + 1;
            if (choice == 1) {
                return "rock";
            } else if (choice == 2) {
                return "paper";
            } else {
                return "scissors";
            }
        }
        
        function playerPlay() {
            //Ask user for his choice
            let choice = prompt("Choice rock, paper or scissors");
            //Ask until user enters a correct choice
            while(choice.toLowerCase() != "rock" && choice.toLowerCase() != "paper" && choice.toLowerCase() != "scissors") {
                choice = prompt("Choice rock, paper or scissors");
            }
            return choice.toLowerCase();
        }

        //Compare both choices and return the winner for the round and update score
        function playRound (computerSelection, playerSelection) {
            if (computerSelection == "rock" ) {
                switch (playerSelection) {
                    case "rock":
                        return "It's a tie!"
                        break;
                    case "paper":
                        playerScore++
                        return "You win! Paper beats rock."
                        break;
                    case "scissors":
                        computerScore++
                        return "You lose! Rock beats scissors."
                        break;
                }
            }
            if (computerSelection == "paper" ) {
                switch (playerSelection) {
                    case "rock":
                        computerScore++
                        return "You lose! Paper beats rock."
                        break;
                    case "paper":
                        return "It's a tie!"
                        break;
                    case "scissors":
                        playerScore++
                        return "You win! Scissors beats paper."
                        break;
                }
            }
            if (computerSelection == "scissors" ) {
                switch (playerSelection) {
                    case "rock": 
                        playerScore++
                        return "You win! Rock beats scissors."
                        break;
                    case "paper":
                        computerScore++
                        return "You lose! Scissors beats paper."
                        break;
                    case "scissors":
                        return "It's a tie!"
                        break;
                }
            }
        }
        //Play 5 rounds, keep track of the score and report the winner
        let computerScore = 0;
        let playerScore = 0;
        let computerSelection = "";
        let playerSelection = "";
        while (computerScore != 5 && playerScore != 5) {
            computerSelection = computerPlay();
            playerSelection = playerPlay();
            console.log(playRound(computerSelection, playerSelection));
            console.log("You: " + playerScore + " - Computer: " + computerScore );
        }

        if(computerScore == 5) {
            console.log("You lose the game! Better luck next time.")
        } else {
            console.log("Congratulations! You win.");
        }
    </script>
</html>